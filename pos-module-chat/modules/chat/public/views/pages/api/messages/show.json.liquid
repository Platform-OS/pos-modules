---
slug: api/chat/messages
method: get
---

{% comment %}
  Get messages for given conversation

  Params:
  - conversation id (string, required)
  - page number for pagination (int, default: 1)
  - items per page (int, default: 30)
{% endcomment %}

{% liquid
  function current_profile = 'modules/user/helpers/current_profile'

  # platformos-check-disable ConvertIncludeToRender, UnreachableCode
  include 'modules/user/helpers/can_do_or_unauthorized', requester: current_profile, do: 'chat.inbox', return_url: '/'
  # platformos-check-enable ConvertIncludeToRender, UnreachableCode

  assign conversation_id = context.params.conversation_id
  assign page = context.params.page | plus: 0 | default: 1
  assign limit = context.params.per_page | plus: 0 | default: 30

  function messages = 'modules/chat/lib/queries/messages/search_by_participant', conversation_id: conversation_id, page: page, limit: limit, participant_id: current_profile.id

  render 'modules/chat/theme/json/messages/show', messages: messages
%}
